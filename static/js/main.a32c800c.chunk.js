(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{15:function(e,t,n){e.exports=n(27)},27:function(e,t,n){"use strict";n.r(t);var o,a=n(0),r=n.n(a),s=n(4),c=n.n(s),u=n(2),l=n(3),d=n(5),i=n(1);!function(e){e.SetTodos="SET_TODOS",e.SetUsers="SET_USERS",e.SetIsLoading="SET_IS_LOADING",e.SetIsLoaded="SET_IS_LOADED",e.SetSortBy="SET_SORT_BY",e.DeleteTodo="DELETE_TODO"}(o||(o={}));var p;!function(e){e.Title="title",e.UseName="user.name",e.Completed="completed"}(p||(p={}));var m={isLoaded:!1,isLoading:!1,todos:[],users:[],sortBy:p.Title},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.SetIsLoading:return Object(i.a)({},e,{isLoading:t.payload});case o.SetIsLoaded:return Object(i.a)({},e,{isLoaded:t.payload});case o.SetUsers:return Object(i.a)({},e,{users:t.payload});case o.SetTodos:return Object(i.a)({},e,{todos:t.payload});case o.SetSortBy:return Object(i.a)({},e,{sortBy:t.payload});case o.DeleteTodo:return Object(i.a)({},e,{todos:e.todos.filter((function(e){return e.id!==t.payload}))});default:return e}},y=d.b.apply(void 0,Object(l.a)([f])),b=n(10),E=n.n(b),S=n(13),L=function(){var e=Object(S.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://jsonplaceholder.typicode.com","/").concat(t));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error(n.statusText);case 5:return e.abrupt("return",n.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=n(6),T=n(14),j=function(e){var t=e.name,n=e.email;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Name: ".concat(t)),r.a.createElement("p",null,"Email: ".concat(n)))},g=function(e){var t=e.id,n=e.title,o=e.completed,s=e.user,c=e.onDelete,u=Object(a.useCallback)((function(){return c(t)}),[t,c]);return r.a.createElement("li",null,r.a.createElement("p",null,n),r.a.createElement("span",null,o?"\u2705":"\ud83d\udeab"),r.a.createElement(j,{name:s.name,email:s.email}),r.a.createElement("button",{type:"button",onClick:u},"Delete"))},v=function(e){var t=e.todos,n=e.deleteTodo;return r.a.createElement("ul",null,t.map((function(e){return r.a.createElement(g,{key:e.id,id:e.id,title:e.title,completed:e.completed,user:e.user,onDelete:n})})))},h={startLoading:function(){return{type:o.SetIsLoading,payload:!0}},stopLoading:function(){return{type:o.SetIsLoading,payload:!1}},setTodos:function(e){return{type:o.SetTodos,payload:e}},setUsers:function(e){return{type:o.SetUsers,payload:e}},deleteTodo:function(e){return{type:o.DeleteTodo,payload:e}},setIsLoaded:function(){return{type:o.SetIsLoaded,payload:!0}}},B=Object(u.b)((function(e){var t=e.users,n=e.todos,o=e.sortBy,a=e.isLoaded,r=e.isLoading;return{sortBy:o,todos:!t.length&&n.length?[]:function(e,t){var n=t.reduce((function(e,t){return Object(i.a)({},e,Object(O.a)({},t.id,t))}),{});return e.map((function(e){return Object(i.a)({},e,{user:n[e.userId]})}))}(n,t),isLoaded:a,isLoading:r}}),h)((function(e){var t=e.todos,n=e.sortBy,o=e.isLoading,s=e.isLoaded,c=e.deleteTodo,u=e.startLoading,d=e.stopLoading,i=e.setTodos,p=e.setUsers,m=e.setIsLoaded,f=Object(a.useCallback)((function(){u(),Promise.all([L("users"),L("todos")]).then((function(e){var t=Object(T.a)(e,2),n=t[0],o=t[1];p(n),i(o),m()})).finally((function(){return d()}))}),[i,p,u,d,m]),y=Object(a.useMemo)((function(){return function(e,t){switch(t){case"title":return Object(l.a)(e).sort((function(e,t){return e.title.localeCompare(t.title)}));case"completed":return Object(l.a)(e).sort((function(e,t){return e.completed===t.completed?0:e.completed?1:-1}));case"user.name":return Object(l.a)(e).sort((function(e,t){return e.user.name.localeCompare(t.user.name)}));default:return e}}(t,n)}),[n,t]);return s||o?o?r.a.createElement("p",null,"Loading..."):r.a.createElement(v,{todos:y,deleteTodo:c}):r.a.createElement("button",{type:"button",onClick:f},"Load Todos")})),I={setSortBy:function(e){return{type:o.SetSortBy,payload:e}}},k=Object(u.b)((function(e){return{sortBy:e.sortBy,isLoaded:e.isLoaded}}),I)((function(e){var t=e.sortBy,n=e.setSortBy,o=e.isLoaded,s=Object(a.useCallback)((function(e){n(e.target.value)}),[n]);return r.a.createElement("select",{name:"sortBy",value:t,onChange:s,disabled:!o},Object.values(p).map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))}));c.a.render(r.a.createElement((function(){return r.a.createElement(u.a,{store:y},r.a.createElement(k,null),r.a.createElement(B,null))}),null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.a32c800c.chunk.js.map